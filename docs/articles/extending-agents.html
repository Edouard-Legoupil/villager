<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>extending-agents • villager</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="extending-agents">
<meta property="og:description" content="villager">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">villager</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/example-boltzman-wealth.html">Boltzman Wealth</a>
    </li>
    <li>
      <a href="../articles/extending-agents.html">extending-agents</a>
    </li>
    <li>
      <a href="../articles/extending-resources.html">extending-resources</a>
    </li>
    <li>
      <a href="../articles/forced_displacement.html">Simulating Forced Displacement</a>
    </li>
    <li>
      <a href="../articles/village-village-interactions.html">village-village-interaction</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/zizroc/villager/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><link href="extending-agents_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="extending-agents_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="extending-agents_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="extending-agents_files/leaflet-1.3.1/leaflet.js"></script><link href="extending-agents_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="extending-agents_files/proj4-2.6.2/proj4.min.js"></script><script src="extending-agents_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="extending-agents_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="extending-agents_files/leaflet-binding-2.2.2/leaflet.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>extending-agents</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/zizroc/villager/blob/HEAD/vignettes/extending-agents.Rmd" class="external-link"><code>vignettes/extending-agents.Rmd</code></a></small>
      <div class="hidden name"><code>extending-agents.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/zizroc/villager/" class="external-link">villager</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/" class="external-link">leaflet</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="extending-agents">Extending Agents<a class="anchor" aria-label="anchor" href="#extending-agents"></a>
</h2>
<p>To create agents (agents) that have more properties than the ones
provided by <em>villager</em>, subclass the <code>agent</code> class
into a new R6 class. Once sub-classed, additional properties can be
added to the agent which can be used in the subsequent model. The new
agent class can be tied to individual villages. This gives flexibility
to model populations differently when running under the same
simulation.</p>
<p>To add new members to the agent class,</p>
<ol style="list-style-type: decimal">
<li>Copy the <em>agent</em> class source code</li>
<li>Create the new member variable</li>
<li>Add it as a parameter to the <code>initialize</code> function</li>
<li>Make an entry for it in the <code>as_table</code> function</li>
</ol>
<div class="section level3">
<h3 id="agent-with-a-gps-coordinate">Agent with a GPS coordinate<a class="anchor" aria-label="anchor" href="#agent-with-a-gps-coordinate"></a>
</h3>
<p>To give a complete example of the sublclassing process, consider an
extended agent. In this case the agent has an additional property,
<code>gps_coordinates</code>, that’s a named list of latitude and
longitude coordinates: [lat=1234, long=1234]. Each coordinate gets
updated by the model each day by a random number.</p>
<p>To start the base class off, the original class was copied to save
time with the member variable definitions.</p>
<div class="section level4">
<h4 id="custom-agent-class">Custom agent class<a class="anchor" aria-label="anchor" href="#custom-agent-class"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gps_agent</span> <span class="op">&lt;-</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span><span class="st">"agent"</span>,</span>
<span>  inherit <span class="op">=</span> <span class="fu">villager</span><span class="fu">::</span><span class="va"><a href="../reference/agent.html">agent</a></span>,</span>
<span>  public <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    age <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    alive <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    children <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    father_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    first_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    gender <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    health <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    identifier <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    last_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    mother_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    partner <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    profession <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    latitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    longitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span></span>
<span>    initialize <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">identifier</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                          <span class="va">first_name</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                          <span class="va">last_name</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                          <span class="va">age</span> <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                          <span class="va">mother_id</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                          <span class="va">father_id</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                          <span class="va">partner</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                          <span class="va">children</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span>,</span>
<span>                          <span class="va">gender</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                          <span class="va">profession</span> <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                          <span class="va">alive</span> <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                          <span class="va">health</span> <span class="op">=</span> <span class="fl">100</span>,</span>
<span>                          <span class="va">latitude</span> <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                          <span class="va">longitude</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">super</span><span class="op">$</span><span class="fu">initialize</span><span class="op">(</span><span class="va">identifier</span>,</span>
<span>                     <span class="va">first_name</span>,</span>
<span>                     <span class="va">last_name</span>,</span>
<span>                     <span class="va">age</span>,</span>
<span>                     <span class="va">mother_id</span>,</span>
<span>                     <span class="va">father_id</span>,</span>
<span>                     <span class="va">partner</span>,</span>
<span>                     <span class="va">children</span>,</span>
<span>                     <span class="va">gender</span>,</span>
<span>                     <span class="va">profession</span>,</span>
<span>                     <span class="va">alive</span>,</span>
<span>                     <span class="va">health</span><span class="op">)</span></span>
<span>      <span class="va">self</span><span class="op">$</span><span class="va">latitude</span> <span class="op">&lt;-</span> <span class="va">latitude</span></span>
<span>      <span class="va">self</span><span class="op">$</span><span class="va">longitude</span> <span class="op">&lt;-</span> <span class="va">longitude</span></span>
<span>    <span class="op">}</span>,</span>
<span></span>
<span>    as_table <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">agent_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>        age <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">age</span>,</span>
<span>        alive <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">alive</span>,</span>
<span>        father_id <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">father_id</span>,</span>
<span>        first_name <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">first_name</span>,</span>
<span>        gender <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">gender</span>,</span>
<span>        health <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">health</span>,</span>
<span>        identifier <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">identifier</span>,</span>
<span>        last_name <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">last_name</span>,</span>
<span>        mother_id <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">mother_id</span>,</span>
<span>        partner <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">partner</span>,</span>
<span>        profession <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">profession</span>,</span>
<span>        latitude <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">latitude</span>,</span>
<span>        longitude <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">longitude</span></span>
<span>      <span class="op">)</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">agent_table</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="initial-condition">Initial Condition<a class="anchor" aria-label="anchor" href="#initial-condition"></a>
</h4>
<p>We’ll create the initial population of one Agent in the
<code>initial_condition</code> function, which gets run before the model
starts. The initial starting location is in Los Angeles, Ca. Note that
the new <code>gps_agent</code> class is used to instantiate the agent
rather than the library provided <code>agent</code> class.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">initial_condition</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">current_state</span>, <span class="va">model_data</span>, <span class="va">agent_mgr</span>, <span class="va">resource_mgr</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Create the initial villagers</span></span>
<span>  <span class="va">test_agent</span> <span class="op">&lt;-</span> <span class="va">gps_agent</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>first_name<span class="op">=</span><span class="st">"Lewis"</span>, last_name<span class="op">=</span><span class="st">"Taylor"</span>, age<span class="op">=</span><span class="fl">9125</span>, latitude<span class="op">=</span><span class="fl">33.8785486</span>, longitude<span class="op">=</span><span class="op">-</span><span class="fl">118.0434921</span><span class="op">)</span></span>
<span>  <span class="va">agent_mgr</span><span class="op">$</span><span class="fu">add_agent</span><span class="op">(</span><span class="va">test_agent</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="model">Model<a class="anchor" aria-label="anchor" href="#model"></a>
</h4>
<p>Each day, the model picks a number between 0.0000001 and 0.0000003
and increments <code>gps_coordinate</code> on the agent.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_model</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">current_state</span>, <span class="va">previous_state</span>, <span class="va">model_data</span>, <span class="va">agent_mgr</span>, <span class="va">resource_mgr</span>, <span class="va">village_mgr</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Loop over all the agents (just one at the moment)</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">agent</span> <span class="kw">in</span> <span class="va">agent_mgr</span><span class="op">$</span><span class="fu">get_living_agents</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Generate new coordinates</span></span>
<span>    <span class="va">latitude</span> <span class="op">&lt;-</span> <span class="va">agent</span><span class="op">$</span><span class="va">latitude</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0.01</span>, <span class="fl">0.03</span><span class="op">)</span></span>
<span>    <span class="va">longitude</span> <span class="op">&lt;-</span> <span class="va">agent</span><span class="op">$</span><span class="va">longitude</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0.01</span>, <span class="fl">0.03</span><span class="op">)</span></span>
<span>    <span class="va">agent</span><span class="op">$</span><span class="va">latitude</span> <span class="op">&lt;-</span> <span class="va">latitude</span></span>
<span>    <span class="va">agent</span><span class="op">$</span><span class="va">longitude</span> <span class="op">&lt;-</span> <span class="va">longitude</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="running">Running<a class="anchor" aria-label="anchor" href="#running"></a>
</h4>
<p>Finally, we’ll create and run a simulation with a duration of 10
days.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">los_angeles</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/village.html">village</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"Test_Village"</span>, <span class="va">initial_condition</span>, <span class="va">test_model</span>, <span class="va">gps_agent</span><span class="op">)</span></span>
<span><span class="va">simulator</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Simulation.html">simulation</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">los_angeles</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">simulator</span><span class="op">$</span><span class="fu">run_model</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load in data</span></span>
<span><span class="va">agent_data</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"results/Test_Village/agents.csv"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">10</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">14</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (3): first_name, identifier, last_name</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (5): age, health, latitude, longitude, step</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">lgl</span> (6): alive, father_id, gender, mother_id, partner, profession</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Grab just the location data</span></span>
<span><span class="va">agent_location</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>latitude <span class="op">=</span> <span class="va">agent_data</span><span class="op">$</span><span class="va">latitude</span>, longitude <span class="op">=</span> <span class="va">agent_data</span><span class="op">$</span><span class="va">longitude</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a map </span></span>
<span><span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html" class="external-link">leaflet</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># Add default OpenStreetMap map tiles</span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addMarkers</a></span> <span class="op">(</span>data <span class="op">=</span> <span class="va">agent_location</span><span class="op">)</span> <span class="co"># Add agent locations</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-bd92bc694e21b82b3e82" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-bd92bc694e21b82b3e82">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[[33.89061338704698,33.90842701487862,33.92286682668295,33.94598355733477,33.97436098254439,33.99703808391154,34.02383324194387,34.0371442919007,34.05839487863857,34.07985319335632],[-118.0277440224388,-118.0170895228615,-117.9935548248641,-117.976644320184,-117.9485023190301,-117.9374989258485,-117.923132931356,-117.909775480054,-117.8911171119508,-117.8643772036988],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[33.89061338704698,34.07985319335632],"lng":[-118.0277440224388,-117.8643772036988]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Thomas Thelen, Gerardo Aldana, Marcus Thomson, Toni Gonzalez.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
